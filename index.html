<!DOCTYPE html>
<html>
<head>
  <!--Css Scripts -->
  <link rel="stylesheet" href="./index.css">
  <!-- Howler Scripts -->
  <script src="./howler.js"></script>
  <script>
      var buttonSound = new Howl({
        src: ['buttonSound.wav']
      });
      var buttonInit = new Howl({
        src: ['buttonInit.wav']
      });
      var backgroundSound = new Howl({
        src: ['bgSound.wav']
      });
      var alertSound = new Howl({
        src: ['alert.wav']
      });
  </script>
<!--Jquery Button Fades -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
  //Fade everything out to start from black
  $( ".btn1").hide();
  $( "#text1" ).hide();
  $( "#text2" ).hide();
  $( "#text3" ).hide();
  $( "#text4" ).hide();
  $( "#text5" ).hide();
  $( "#text6" ).hide();
  $( "#text7" ).hide();
  $( "#text8" ).hide();
  $( "#text9" ).hide();
  $( "#text10" ).hide();
  $(".fade-in").hide();
  $( "#helptext1" ).hide();
  $( "#helptext2" ).hide();
  $( "#helptext3" ).hide();
//Fade Ins
  $(".fade-in").fadeIn(2500);
  $( "#text1" ).delay(500).fadeIn(2500);
  $( "#text2" ).delay(1000).fadeIn(2500);
  $( "#text3" ).delay(1500).fadeIn(2500);
  $( "#text4" ).delay(2000).fadeIn(2500);
  $( "#text5" ).delay(2500).fadeIn(2500);
  $( ".btn1" ).delay(2500).fadeIn(2500);
//Button click functions
  $(".btn1").click(function(){

    $("#text1").fadeOut(2500);
    $("#text2").fadeOut(2800);
    $("#text3").fadeOut(3000);
    $("#text4").fadeOut(3200);
    $("#text5").fadeOut(3500);
    $("button").hide();
    $("h1").animate({
          top: "0%",
          left: "+=900",
          marginLeft: "1.7in", opacity: 0.9 },2500);
    $("h1").delay(1000).fadeOut(2500);
    $( "#helptext1" ).delay(8000).fadeIn(2500);
    $( "#helptext2" ).delay(12000).fadeIn(2500);
    alertSound.play();
    $( "#helptext3" ).delay(15000).fadeIn(2500);

    $( "#text6" ).delay(5000).fadeIn(2500);
  });
  $("#text6").click(function(){
    $("#text7").fadeIn(2500);
    $("#text8").fadeIn(3500);
  });
  $("#text8").click(function(){
    $("#text9").fadeIn(2500);
    $("#text10").delay(3000).fadeIn(2500);
  })
});
</script>
<!-- Font Scripts -->
  <link href='https://fonts.googleapis.com/css?family=Nothing You Could Do' rel='stylesheet'>
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">
<!--Some CSS implementation here for some reason -->
  <style>
h1 {
      font-family: 'Nothing You Could Do';font-size: 48px;
  }
  p {
    font-family: 'Raleway', ;
  }
  #text1 {
    font-family: 'Raleway', ;
  }
  #text2 {
  font-family: 'Raleway', ;
  margin: left;
  width: 60%;
  border: 3px solid #ffffff;
  padding: 10px;
}
  #text3 {
    font-family: 'Raleway', ;
    margin: right;
    width: 60%;
    padding: 10px;
  }

  </style>

</head>
  <div class="fade-in" align="center">
    <br><br><br><br><br><br><br><br><br><br><br><br><br>
  <center><h1>David Weaver, for Art Processors.</h1>

  <p id="text1">In the spirit of Art Processors, I thought I'd provide a companion app for my application for the position of Digital Producer.<br>
For this, you'll need a webcam. If you can, please read this cover letter on a computer with a webcam, and allow access when prompted.<br>
Please check your Audio Output and Speakers.</p>
<p id="text2"><em>A Quick Breakdown</em></p>
<p id="text3">I've used Machine Learning through Google's Teachable Machine and Tensorflow.js to track hand positions.<br>
  You'll use this hand position input to reveal various parts of my cover letter, on the next screen.<br>
  The Audio has been built with Howler.js.
  <br>New layers will be added as you complete each gesture.
  <br>I've kept the model relatively lightweight, as I wanted to put in my application and only had a day or so to script all this up.</p>
<p id="text4">If you don't have a webcam, <a href="./coverletter.html">click here</a>;
  You'll miss out on some of the fancy stuff though.</p>
  <p id="text5">I hope you enjoy.</p>
  <!--Button for fading and continuing -->
<button class="btn1" onclick="buttonSound.play()" onclick="init()">Continue.</button></center></div>
<center><p id="helptext1">To read all of this cover letter, you'll need your hands. </center></p>
<center><p id="helptext2">When you hear this sound, you'll need to raise either one, or both your hands.</center></p>
<center><p id="helptext3">Let's practice. When you hear this sound, raise a hand.</p></center>
<!-- Tensorflow.js implementation -->
<script>
</script>

<div id="webcam-container"></div>
<div id="label-container"></div>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
<script type="text/javascript">
    // the link to your model provided by Teachable Machine export panel
    const URL = "https://teachablemachine.withgoogle.com/models/3Q2Fyu3r/";

    let model, webcam, labelContainer, maxPredictions;

    // Load the image model and setup the webcam
    async function init() {
        const modelURL = URL + "model.json";
        const metadataURL = URL + "metadata.json";

        model = await tmImage.load(modelURL, metadataURL);
        maxPredictions = model.getTotalClasses();

        const flip = true; // flip the webcam
        webcam = new tmImage.Webcam(1920, 1080, flip); // width, height, flip
        await webcam.setup(); // request access to the webcam
        await webcam.play();
        window.requestAnimationFrame(loop);

        // append elements to the DOM
        document.getElementById("webcam-container").appendChild(webcam.canvas);
        labelContainer = document.getElementById("label-container");
        for (let i = 0; i < maxPredictions; i++) { // and class labels
            labelContainer.appendChild(document.createElement("div"));
        }
    }

    async function loop() {
        webcam.update(); // update the webcam frame
        await predict();
        window.requestAnimationFrame(loop);
    }

    // run the webcam image through the image model
    async function predict() {
        const prediction = await model.predict(webcam.canvas);
        for (let i = 0; i < maxPredictions; i++) {
            var classPrediction =
                prediction[i].className + ": " + prediction[i].probability.toFixed(2);
            labelContainer.childNodes[i].innerHTML = classPrediction;
            if(prediction[i].probability.toFixed(2) > 0.9){
            console.log(classPrediction);
            //set the variables to values here.
          } else {

          }
        }

    }

</script>

<p id="text6">
  I'm writing to you in interest of the position for Digital Producer at Arts Processors.<br>
  I’ve greatly enjoyed some of your work at MONA, and have always been interested in contributing to the design philosophy you hold with such high esteem. </p>
<p id="text7">
  As a multidisciplinary artist, I’ve contributed audiovisual works to Melbourne Fringe Festival, the National Gallery of Victoria and Music Festivals (Panacea & Tilde Festival), in varying capacities. <br></p>
<p id="text8">
  For Melbourne Fringe Festival, I produced the live electronics for ‘Eyes Wide Open’, a 40 minute interactive dance piece. <br>
  For this, I sourced the parts, cut, soldered and programmed Arduino components with accelerometers and gyroscopes to create a reactive component to the dancers. <br>
  This was piped over TouchOSC and a network to MaxMSP, where I developed the audio DSP for each dancer, dependant on the way they moved. <br>
  I worked closely with the Composer, Choreographer and HODs to ensure we delivered a tightly technical and creatively fulfilling product. <br>
  We were nominated for a Sound and Technical Excellence Award, and this work has developed into an ongoing partnership with members of the modern dance community in Melbourne from Chunky Move and Transit Dancehouse. <br></p>
<p id="text9">
  My work with the National Gallery of Victoria involved creating adaptive visuals and projection mapping for an event for the Victorian Government for the 50th Anniversary of the Battle of Long Tanh. <br>
  In this project, I made presentations at Government House, and worked with autonomy to ensure both a high standard of excellence and technical sophistication through redundancies and systems engineering. <br>
  This work was presented to over 300 government officials and members of the public.

</html>
